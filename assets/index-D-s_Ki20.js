import{A as w,V as o}from"./AnimatedLabel-CAWg7D6J.js";import{A as P}from"./AnimatedLine-B7KSCPsa.js";import{r as u,a as $}from"./index-gdzkoIFP.js";import{z,s as L}from"./array-B_HcOo50.js";const I=`3   4
4   3
2   5
1   3
3   9
3   3`,y=200,h=100,A=200,Y=24,R=async n=>{const c=I.split(`
`).map(p=>p.split("   ").map(Number)),[r,e]=z(...c),s=[...r].sort((p,t)=>p-t),m=[...e].sort((p,t)=>p-t);await Promise.all([O(n,r,-A/2),O(n,e,A/2)]);const i=await V(n,s,m),a=await M(n,i);console.log("Part 1",a)},O=(n,c,r)=>{const e=c.map((i,a)=>({value:i,id:a})),s=[...e].sort((i,a)=>i.value-a.value),m=e.map((i,a)=>{const p=s.findIndex(b=>b.id===i.id),t=n.canvas.width/2+r,g=new o(t,y+a*h),v=new o(t,y+p*h);return new w({ctx:n,position:g,opacity:0,label:i.value.toString(),fontSize:Y,keepDrawingAfterAnimation:!0}).animateOpacity(1,500).animatePosition(v,1e3,{delay:1e3})});return u(n,m)},V=async(n,c,r)=>{const e=[],s=[],i=c.length;for(let a=0;a<i;a++){const p=y+h*a,t=Math.abs(c[a]-r[a]);s.push(t),e.push(new P({ctx:n,startPosition:new o(n.canvas.width/2-A/2+20,p),targetPosition:new o(n.canvas.width/2-20,p),keepDrawingAfterAnimation:!0}).animateDrawing(500,a*100)),e.push(new P({ctx:n,startPosition:new o(n.canvas.width/2+A/2-20,p),targetPosition:new o(n.canvas.width/2+20,p),keepDrawingAfterAnimation:!0}).animateDrawing(500,a*100));const g=new o(n.canvas.width/2,y+a*h);e.push(new w({ctx:n,position:g,label:t.toString(),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,{delay:a*100}))}return await u(n,e),s},M=async(n,c)=>{const r=L(c),e=new w({ctx:n,position:new o(n.canvas.width/2,y-30),rotation:Math.PI/2,opacity:0,label:"=",keepDrawingAfterAnimation:!0}).animateOpacity(1,500),s=new w({ctx:n,position:new o(n.canvas.width/2,y-60),opacity:0,label:r.toString(),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);return await u(n,[e,s]),r},l=200,S=100,f=200,N=24,j=async n=>{const c=I.split(`
`).map(m=>m.split("   ").map(Number)),[r,e]=z(...c);await Promise.all([D(n,r,-f/2),D(n,e,f/2)]);let s=0;k(n,s);for(let m=0;m<r.length;m++){const i=await T(n,r,e,m);s+=i,i&&k(n,s)}console.log("Part 2",s)},D=(n,c,r)=>{const e=c.map((s,m)=>{const i=n.canvas.width/2+r,a=new o(i,l+m*S);return new w({ctx:n,position:a,opacity:0,label:s.toString(),fontSize:N,keepDrawingAfterAnimation:!0}).animateOpacity(1,500)});return u(n,e)},T=async(n,c,r,e)=>{const s=c[e],m=r.map((t,g)=>t===s?g:-1).filter(t=>t!==-1),i=[],a=m.map((t,g)=>{const v=new o(n.canvas.width/2-f/2,l+e*S),b=new o(n.canvas.width/2+f/2,l+t*S);return new P({ctx:n,startPosition:v,targetPosition:b,keepDrawingAfterAnimation:!0}).animateDrawing(500,g*500)});await u(n,a),$(a);const p=m.length*s;if(p>0){const t=n.canvas.width/2;i.push(new w({ctx:n,position:new o(t-30,l),label:m.length.toString(),opacity:0}).animateOpacity(1,500).animatePosition(new o(t,l),500,{delay:500}).animateOpacity(0,500,{delay:500})),i.push(new w({ctx:n,position:new o(t,l),label:"*",opacity:0}).animateOpacity(1,500).animateOpacity(0,500,{delay:500})),i.push(new w({ctx:n,position:new o(t+30,l),label:s.toString(),opacity:0}).animateOpacity(1,500).animatePosition(new o(t,l),500,{delay:500}).animateOpacity(0,500,{delay:500})),i.push(new w({ctx:n,position:new o(t,l),label:`+ ${p.toString()}`,opacity:0}).animateOpacity(1,250,{delay:1e3}).animatePosition(new o(t,l-25),250,{delay:1250}).animateOpacity(0,250,{delay:1300}))}return await u(n,i),p};let d=null;const k=(n,c)=>(d&&$([d]),d=new w({ctx:n,label:c.toString(),position:new o(n.canvas.width/2,l-50),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500),u(n,[d]));export{R as part1,j as part2};
