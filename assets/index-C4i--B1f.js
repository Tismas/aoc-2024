import{z,r as d,A as g,a as O,V as c,s as D}from"./array-CYz75t2U.js";const I=`3   4
4   3
2   5
1   3
3   9
3   3`,u=200,b=100,v=200,Y=24,X=async n=>{n.clearRect(0,0,n.canvas.width,n.canvas.height);const l=I.split(`
`).map(y=>y.split("   ").map(Number)),[o,e]=z(...l),p=[...o].sort((y,f)=>y-f),r=[...e].sort((y,f)=>y-f),i=S(n,o,-v/2),s=S(n,e,v/2),t=[...i,...s];await d(n,t);const[a,w]=R(n,p,r);await d(n,a,t);const h=V(n,w);await d(n,h,[...a,...t])},S=(n,l,o)=>{const e=l.map((r,i)=>({value:r,id:i})),p=[...e].sort((r,i)=>r.value-i.value);return e.map((r,i)=>{const s=p.findIndex(h=>h.id===r.id),t=n.canvas.width/2+o,a=new c(t,u+i*b),w=new c(t,u+s*b);return new g({ctx:n,position:a,opacity:0,label:r.value.toString(),fontSize:Y}).animateOpacity(1,500).animatePosition(w,1e3,1e3)})},R=(n,l,o)=>{const e=[],p=[],i=l.length;for(let s=0;s<i;s++){const t=u+b*s,a=Math.abs(l[s]-o[s]);p.push(a),e.push(new O({ctx:n,startPosition:new c(n.canvas.width/2-v/2+20,t),targetPosition:new c(n.canvas.width/2-20,t)}).animateDrawing(500,s*100)),e.push(new O({ctx:n,startPosition:new c(n.canvas.width/2+v/2-20,t),targetPosition:new c(n.canvas.width/2+20,t)}).animateDrawing(500,s*100));const w=new c(n.canvas.width/2,u+s*b);e.push(new g({ctx:n,position:w,label:a.toString(),opacity:0}).animateOpacity(1,500,s*100))}return[e,p]},V=(n,l)=>{const o=D(l),e=new g({ctx:n,position:new c(n.canvas.width/2,u-30),rotation:Math.PI/2,opacity:0,label:"="}).animateOpacity(1,500),p=new g({ctx:n,position:new c(n.canvas.width/2,u-60),opacity:0,label:o.toString()}).animateOpacity(1,500);return console.log("Part 1:",o),[e,p]},m=200,P=100,A=200,M=24,q=async n=>{n.clearRect(0,0,n.canvas.width,n.canvas.height);const l=I.split(`
`).map(t=>t.split("   ").map(Number)),[o,e]=z(...l),p=L(n,o,-A/2),r=L(n,e,A/2),i=[...p,...r];await d(n,i);let s=0;for(let t=0;t<o.length;t++){const[a,w]=N(n,o,e,t),h=w?$(n,s):[];await d(n,[...a,...h],i),s+=w}await d(n,$(n,s),i),console.log("Part 2",s)},L=(n,l,o)=>l.map((e,p)=>{const r=n.canvas.width/2+o,i=new c(r,m+p*P);return new g({ctx:n,position:i,opacity:0,label:e.toString(),fontSize:M}).animateOpacity(1,500)}),N=(n,l,o,e)=>{const p=l[e],r=o.map((t,a)=>t===p?a:-1).filter(t=>t!==-1),i=[];r.forEach((t,a)=>{const w=new c(n.canvas.width/2-A/2,m+e*P),h=new c(n.canvas.width/2+A/2,m+t*P);i.push(new O({ctx:n,startPosition:w,targetPosition:h}).animateDrawing(500,a*500))});const s=r.length*p;if(s>0){const t=n.canvas.width/2,a=r.length*500;i.push(new g({ctx:n,position:new c(t-30,m),label:r.length.toString(),opacity:0}).animateOpacity(1,500,a).animatePosition(new c(t,m),500,a+500).animateOpacity(0,500,a+500)),i.push(new g({ctx:n,position:new c(t,m),label:"*",opacity:0}).animateOpacity(1,500,a).animateOpacity(0,500,a+500)),i.push(new g({ctx:n,position:new c(t+30,m),label:p.toString(),opacity:0}).animateOpacity(1,500,a).animatePosition(new c(t,m),500,a+500).animateOpacity(0,500,a+500)),i.push(new g({ctx:n,position:new c(t,m),label:`+ ${s.toString()}`,opacity:0}).animateOpacity(1,250,a+1e3).animatePosition(new c(t,m-25),250,a+1250).animateOpacity(0,250,a+1300))}return[i,s]},$=(n,l)=>{const o=[];return o.push(new g({ctx:n,label:l.toString(),position:new c(n.canvas.width/2,m-50),opacity:0}).animateOpacity(1,500)),o};export{X as part1,q as part2};
