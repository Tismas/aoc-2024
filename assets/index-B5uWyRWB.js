import{s as o}from"./showInConstructionMessage-7acYZP_C.js";import"./AnimatedLabel-CjwdShHn.js";import"./index-DLftyy5q.js";const z=(e,t)=>{const r=[];let n=!1,l=0;for(const f of t.split("")){const s=Number(f);n?r.push(...new Array(s).fill(".")):(r.push(...new Array(s).fill(l)),l++),n=!n}for(;r.includes(".");){const f=r.pop();f!=="."&&(r[r.indexOf(".")]=f)}const u=r.reduce((f,s,p)=>f+s*p,0);o(e,u)},I=(e,t)=>{const r=t.split("").map(Number);let n=null,l=null,u=0;for(let c=0;c<r.length;c+=2){const i={fileId:u,size:r[c],freeSpaceAfter:r[c+1]||0,next:null,prev:null};!n||!l?(n=i,l=i):(i.prev=l,l.next=i,l=i),u++}if(!l||!n)throw new Error("wtf?");a(n,l);let f=0,s=n,p=0;for(;s;){const c=s.fileId*p,i=s.fileId*(p+s.size-1);f+=s.size*((c+i)/2),p+=s.size+s.freeSpaceAfter,s=s.next}o(e,f)},a=(e,t)=>{for(;e.freeSpaceAfter===0;){if(!e.next)return;e=e.next}let r=e;for(;r!==t;){const n=t.prev;if(x(r,t))return n?a(e,n):void 0;if(!t.prev)return;t=t.prev}},x=(e,t)=>{for(;e!==t;){if(e.freeSpaceAfter>=t.size)return A(t),w(t,e),!0;if(!e.next)return;e=e.next}return!1},A=e=>{e.prev&&(e.prev.freeSpaceAfter+=e.size+e.freeSpaceAfter,e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=null,e.prev=null},w=(e,t)=>{e.freeSpaceAfter=t.freeSpaceAfter-e.size,t.freeSpaceAfter=0,e.next=t.next,e.prev=t,t.next&&(t.next.prev=e),t.next=e},N="2333133121414131402";export{N as input,z as part1,I as part2};
