import{A as d,V as a}from"./AnimatedLabel-CdFvQLtw.js";import{A as S}from"./AnimatedLine-BjDiZPth.js";import{r as f,a as u}from"./index-ae_RvL4o.js";const z=async(n,t)=>{const s=t.split(`
`).map(e=>e.split(" ").map(Number));let o=0;const g=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:"Safe reports:",opacity:0,position:new a(n.canvas.width/2,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);let i=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:o.toString(),opacity:0,position:new a(n.canvas.width/2+200,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);f(n,[g,i]);for(const e of s)if(await b(n,e)){o+=1;const r=i.animateOpacity(0,200).animatePosition(new a(n.canvas.width/2+200,50),200);i=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:o.toString(),opacity:0,position:new a(n.canvas.width/2+200,150),keepDrawingAfterAnimation:!0}).animateOpacity(1,210).animatePosition(new a(n.canvas.width/2+200,100),200),await f(n,[r,i]),u([r])}},b=async(n,t)=>{let s=!0;const o=[],g=Math.sign(t[1]-t[0]),i=n.canvas.width/2,e=n.canvas.height/2,l=new a(i,n.canvas.height+100),r=new a(i,e);o.push(new d({ctx:n,label:t.join("  "),position:l,fontSize:48,fontFamily:"Monospace",rotationOrigin:"right",keepDrawingAfterAnimation:!0}).animatePosition(r,500)),await f(n,o);for(let w=1;w<t.length;w++){const h=[],m=i-t.length/2*59,c=w-1,p=79,y=15;h.push(new S({ctx:n,startPosition:new a(m+c*p,e-25),targetPosition:new a(m+y+c*p,e-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const P=60;h.push(new S({ctx:n,startPosition:new a(m+P+c*p,e-25),targetPosition:new a(m+P-y+c*p,e-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const A=t[w]-t[c],v=Math.abs(A)<=3&&A!==0&&Math.sign(A)===g;if(h.push(new d({ctx:n,label:(A>0?"+":"")+A.toString(),color:v?"green":"red",position:new a(m+ +y+c*p+10,e-65),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,{delay:750})),await f(n,h),u(h),!v){o[0].animateRotation(-Math.PI*.1,50,{delay:250}).animateRotation(-Math.PI*.3,100,{delay:300}).animateRotation(-Math.PI*.4,200,{delay:400}).animateRotation(-Math.PI*.42,500,{delay:600}).animateRotation(Math.PI/3,200,{delay:1100}).animateRotation(Math.PI*3,400,{delay:1300}).animatePosition(new a(n.canvas.width+400,e),400,{delay:1300}),await f(n,o),s=!1;break}}return u(o),s},F=async(n,t)=>{const s=t.split(`
`).map(e=>e.split(" ").map(Number));let o=0;const g=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:"Safe reports:",opacity:0,position:new a(n.canvas.width/2,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);let i=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:o.toString(),opacity:0,position:new a(n.canvas.width/2+200,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);f(n,[g,i]);for(const e of s)if(await M(n,e)){o+=1;const r=i.animateOpacity(0,200).animatePosition(new a(n.canvas.width/2+200,50),200);i=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:o.toString(),opacity:0,position:new a(n.canvas.width/2+200,150),keepDrawingAfterAnimation:!0}).animateOpacity(1,210).animatePosition(new a(n.canvas.width/2+200,100),200),await f(n,[r,i]),u([r])}},M=async(n,t,s=0,o=0)=>{const g=Math.sign(t[1]-t[0]),i=n.canvas.width/2,e=n.canvas.height/2,l=s===0?new a(i+o,n.canvas.height+100):new a(i,e),r=new a(i+o,e),w=new d({ctx:n,label:t.join("  "),position:l,fontSize:48,fontFamily:"Monospace",rotationOrigin:"right",keepDrawingAfterAnimation:!0}).animatePosition(r,500);f(n,[w]);const h=[];for(let p=1;p<t.length;p++){const y=i-t.length/2*59+o;h.push(D(n,t,y,p,g))}const m=(await Promise.all(h)).indexOf(!1),c=m===-1;if(!c)if(s===0){const p=[...t];p.splice(m,1);const y=[...t];y.splice(m+1,1),u([w]);const[P,A]=await Promise.all([M(n,p,1,-500),M(n,y,1,500)]);return P||A}else setTimeout(()=>R(n,w),0);return u([w]),c},D=async(n,t,s,o,g)=>{const i=n.canvas.height/2,e=[],l=o-1,r=79,w=15;e.push(new S({ctx:n,startPosition:new a(s+l*r,i-25),targetPosition:new a(s+w+l*r,i-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const h=60;e.push(new S({ctx:n,startPosition:new a(s+h+l*r,i-25),targetPosition:new a(s+h-w+l*r,i-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const m=t[o]-t[l],c=Math.abs(m)<=3&&m!==0&&Math.sign(m)===g;return e.push(new d({ctx:n,label:(m>0?"+":"")+m.toString(),color:c?"green":"red",position:new a(s+ +w+l*r+10,i-65),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,{delay:750})),await f(n,e),u(e),c},R=(n,t)=>{const s=n.canvas.height/2;return t.animateRotation(-Math.PI*.1,50,{delay:250}).animateRotation(-Math.PI*.3,100,{delay:300}).animateRotation(-Math.PI*.4,200,{delay:400}).animateRotation(-Math.PI*.42,500,{delay:600}).animateRotation(Math.PI/3,200,{delay:1100}).animateRotation(Math.PI*3,400,{delay:1300}).animatePosition(new a(n.canvas.width+400,s),400,{delay:1300}),f(n,[t])},L=`7 6 4 2 1
1 2 7 8 9
9 7 6 2 1
1 3 2 4 5
8 6 4 4 1
1 3 6 7 9`;export{L as input,z as part1,F as part2};
