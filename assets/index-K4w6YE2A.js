import{s as o}from"./showInConstructionMessage-CsBjinIb.js";import"./AnimatedLabel-CjwdShHn.js";import"./index-Bk_j-rZF.js";const z=(e,t)=>{const r=[];let n=!1,f=0;for(const i of t.split("")){const s=Number(i);n?r.push(...new Array(s).fill(".")):(r.push(...new Array(s).fill(f)),f++),n=!n}for(;r.includes(".");){const i=r.pop();i!=="."&&(r[r.indexOf(".")]=i)}const u=r.reduce((i,s,p)=>i+s*p,0);o(e,u)},I=(e,t)=>{const r=t.split("").map(Number);let n=null,f=null,u=0;for(let c=0;c<r.length;c+=2){const l={fileId:u,size:r[c],freeSpaceAfter:r[c+1]||0,next:null,prev:null};!n||!f?(n=l,f=l):(l.prev=f,f.next=l,f=l),u++}if(!f||!n)throw new Error("wtf?");a(n,f);let i=0,s=n,p=0;for(;s;){const c=s.fileId*p,l=s.fileId*(p+s.size-1);i+=s.size*((c+l)/2),p+=s.size+s.freeSpaceAfter,s=s.next}o(e,i)},a=(e,t)=>{for(;e.freeSpaceAfter===0;){if(!e.next)return;e=e.next}let r=e;for(;r!==t;){const n=t.prev;if(x(r,t)){if(!n)return;if(e!==n)return a(e,n)}if(!t.prev)return;t=t.prev}},x=(e,t)=>{for(;e!==t;){if(e.freeSpaceAfter>=t.size)return A(t),w(t,e),!0;if(!e.next)return;e=e.next}return!1},A=e=>{e.prev&&(e.prev.freeSpaceAfter+=e.size+e.freeSpaceAfter,e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=null,e.prev=null},w=(e,t)=>{e.freeSpaceAfter=t.freeSpaceAfter-e.size,t.freeSpaceAfter=0,e.next=t.next,e.prev=t,t.next&&(t.next.prev=e),t.next=e},N="8395133";export{N as input,z as part1,I as part2};
