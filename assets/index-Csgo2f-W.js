import{A as d,V as a}from"./AnimatedLabel-CAWg7D6J.js";import{A as S}from"./AnimatedLine-B7KSCPsa.js";import{r as f,a as u}from"./index-gdzkoIFP.js";const b=`7 6 4 2 1
1 2 7 8 9
9 7 6 2 1
1 3 2 4 5
8 6 4 4 1
1 3 6 7 9`,F=async n=>{const t=b.split(`
`).map(i=>i.split(" ").map(Number));let e=0;const s=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:"Safe reports:",opacity:0,position:new a(n.canvas.width/2,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);let m=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new a(n.canvas.width/2+200,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);f(n,[s,m]);for(const i of t)if(await D(n,i)){e+=1;const r=m.animateOpacity(0,200).animatePosition(new a(n.canvas.width/2+200,50),200);m=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new a(n.canvas.width/2+200,150),keepDrawingAfterAnimation:!0}).animateOpacity(1,210).animatePosition(new a(n.canvas.width/2+200,100),200),await f(n,[r,m]),u([r])}},D=async(n,t)=>{let e=!0;const s=[],m=Math.sign(t[1]-t[0]),i=n.canvas.width/2,o=n.canvas.height/2,r=new a(i,n.canvas.height+100),g=new a(i,o);s.push(new d({ctx:n,label:t.join("  "),position:r,fontSize:48,fontFamily:"Monospace",rotationOrigin:"right",keepDrawingAfterAnimation:!0}).animatePosition(g,500)),await f(n,s);for(let l=1;l<t.length;l++){const h=[],w=i-t.length/2*59,c=l-1,p=79,y=15;h.push(new S({ctx:n,startPosition:new a(w+c*p,o-25),targetPosition:new a(w+y+c*p,o-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const P=60;h.push(new S({ctx:n,startPosition:new a(w+P+c*p,o-25),targetPosition:new a(w+P-y+c*p,o-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const A=t[l]-t[c],v=Math.abs(A)<=3&&A!==0&&Math.sign(A)===m;if(h.push(new d({ctx:n,label:(A>0?"+":"")+A.toString(),color:v?"green":"red",position:new a(w+ +y+c*p+10,o-65),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,{delay:750})),await f(n,h),u(h),!v){s[0].animateRotation(-Math.PI*.1,50,{delay:250}).animateRotation(-Math.PI*.3,100,{delay:300}).animateRotation(-Math.PI*.4,200,{delay:400}).animateRotation(-Math.PI*.42,500,{delay:600}).animateRotation(Math.PI/3,200,{delay:1100}).animateRotation(Math.PI*3,400,{delay:1300}).animatePosition(new a(n.canvas.width+400,o),400,{delay:1300}),await f(n,s),e=!1;break}}return u(s),e},L=async n=>{const t=b.split(`
`).map(i=>i.split(" ").map(Number));let e=0;const s=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:"Safe reports:",opacity:0,position:new a(n.canvas.width/2,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);let m=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new a(n.canvas.width/2+200,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);f(n,[s,m]);for(const i of t)if(await M(n,i)){e+=1;const r=m.animateOpacity(0,200).animatePosition(new a(n.canvas.width/2+200,50),200);m=new d({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new a(n.canvas.width/2+200,150),keepDrawingAfterAnimation:!0}).animateOpacity(1,210).animatePosition(new a(n.canvas.width/2+200,100),200),await f(n,[r,m]),u([r])}},M=async(n,t,e=0,s=0)=>{const m=Math.sign(t[1]-t[0]),i=n.canvas.width/2,o=n.canvas.height/2,r=e===0?new a(i+s,n.canvas.height+100):new a(i,o),g=new a(i+s,o),l=new d({ctx:n,label:t.join("  "),position:r,fontSize:48,fontFamily:"Monospace",rotationOrigin:"right",keepDrawingAfterAnimation:!0}).animatePosition(g,500);f(n,[l]);const h=[];for(let p=1;p<t.length;p++){const y=i-t.length/2*59+s;h.push(R(n,t,y,p,m))}const w=(await Promise.all(h)).indexOf(!1),c=w===-1;if(!c)if(e===0){const p=[...t];p.splice(w,1);const y=[...t];y.splice(w+1,1),u([l]);const[P,A]=await Promise.all([M(n,p,1,-500),M(n,y,1,500)]);return P||A}else setTimeout(()=>k(n,l),0);return u([l]),c},R=async(n,t,e,s,m)=>{const i=n.canvas.height/2,o=[],r=s-1,g=79,l=15;o.push(new S({ctx:n,startPosition:new a(e+r*g,i-25),targetPosition:new a(e+l+r*g,i-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const h=60;o.push(new S({ctx:n,startPosition:new a(e+h+r*g,i-25),targetPosition:new a(e+h-l+r*g,i-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const w=t[s]-t[r],c=Math.abs(w)<=3&&w!==0&&Math.sign(w)===m;return o.push(new d({ctx:n,label:(w>0?"+":"")+w.toString(),color:c?"green":"red",position:new a(e+ +l+r*g+10,i-65),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,{delay:750})),await f(n,o),u(o),c},k=(n,t)=>{const e=n.canvas.height/2;return t.animateRotation(-Math.PI*.1,50,{delay:250}).animateRotation(-Math.PI*.3,100,{delay:300}).animateRotation(-Math.PI*.4,200,{delay:400}).animateRotation(-Math.PI*.42,500,{delay:600}).animateRotation(Math.PI/3,200,{delay:1100}).animateRotation(Math.PI*3,400,{delay:1300}).animatePosition(new a(n.canvas.width+400,e),400,{delay:1300}),f(n,[t])};export{F as part1,L as part2};
