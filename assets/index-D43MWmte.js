import{A as f,V as t,a as S}from"./AnimatedLine-BdHaIZJI.js";import{r as g,a as P}from"./index-BaTq7jN3.js";const b=`7 6 4 2 1
1 2 7 8 9
9 7 6 2 1
1 3 2 4 5
8 6 4 4 1
1 3 6 7 9`,z=async n=>{const a=b.split(`
`).map(i=>i.split(" ").map(Number));let e=0;const s=new f({ctx:n,fontFamily:"Monospace",fontSize:48,label:"Safe reports:",opacity:0,position:new t(n.canvas.width/2,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);let m=new f({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new t(n.canvas.width/2+200,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);g(n,[s,m]);for(const i of a)if(await D(n,i)){e+=1;const r=m.animateOpacity(0,200).animatePosition(new t(n.canvas.width/2+200,50),200);m=new f({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new t(n.canvas.width/2+200,150),keepDrawingAfterAnimation:!0}).animateOpacity(1,210).animatePosition(new t(n.canvas.width/2+200,100),200),await g(n,[r,m]),P([r])}},D=async(n,a)=>{let e=!0;const s=[],m=Math.sign(a[1]-a[0]),i=n.canvas.width/2,o=n.canvas.height/2,r=new t(i,n.canvas.height+100),d=new t(i,o);s.push(new f({ctx:n,label:a.join("  "),position:r,fontSize:48,fontFamily:"Monospace",rotationOrigin:"right",keepDrawingAfterAnimation:!0}).animatePosition(d,500)),await g(n,s);for(let c=1;c<a.length;c++){const l=[],w=i-a.length/2*59,p=c-1,h=79,A=15;l.push(new S({ctx:n,startPosition:new t(w+p*h,o-25),targetPosition:new t(w+A+p*h,o-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const y=60;l.push(new S({ctx:n,startPosition:new t(w+y+p*h,o-25),targetPosition:new t(w+y-A+p*h,o-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const u=a[c]-a[p],v=Math.abs(u)<=3&&u!==0&&Math.sign(u)===m;if(l.push(new f({ctx:n,label:(u>0?"+":"")+u.toString(),color:v?"green":"red",position:new t(w+ +A+p*h+10,o-65),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,750)),await g(n,l),P(l),!v){s[0].animateRotation(-Math.PI*.1,50,250).animateRotation(-Math.PI*.3,100,300).animateRotation(-Math.PI*.4,200,400).animateRotation(-Math.PI*.42,500,600).animateRotation(Math.PI/3,200,1100).animateRotation(Math.PI*3,400,1300).animatePosition(new t(n.canvas.width+400,o),400,1300),await g(n,s),e=!1;break}}return P(s),e},F=async n=>{const a=b.split(`
`).map(i=>i.split(" ").map(Number));let e=0;const s=new f({ctx:n,fontFamily:"Monospace",fontSize:48,label:"Safe reports:",opacity:0,position:new t(n.canvas.width/2,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);let m=new f({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new t(n.canvas.width/2+200,100),keepDrawingAfterAnimation:!0}).animateOpacity(1,500);g(n,[s,m]);for(const i of a)if(await M(n,i)){e+=1;const r=m.animateOpacity(0,200).animatePosition(new t(n.canvas.width/2+200,50),200);m=new f({ctx:n,fontFamily:"Monospace",fontSize:48,label:e.toString(),opacity:0,position:new t(n.canvas.width/2+200,150),keepDrawingAfterAnimation:!0}).animateOpacity(1,210).animatePosition(new t(n.canvas.width/2+200,100),200),await g(n,[r,m]),P([r])}},M=async(n,a,e=0,s=0)=>{const m=Math.sign(a[1]-a[0]),i=n.canvas.width/2,o=n.canvas.height/2,r=e===0?new t(i+s,n.canvas.height+100):new t(i,o),d=new t(i+s,o),c=new f({ctx:n,label:a.join("  "),position:r,fontSize:48,fontFamily:"Monospace",rotationOrigin:"right",keepDrawingAfterAnimation:!0}).animatePosition(d,500);g(n,[c]);const l=[];for(let h=1;h<a.length;h++){const A=i-a.length/2*59+s;l.push(R(n,a,A,h,m))}const w=(await Promise.all(l)).indexOf(!1),p=w===-1;if(!p)if(e===0){const h=[...a];h.splice(w,1);const A=[...a];A.splice(w+1,1),P([c]);const[y,u]=await Promise.all([M(n,h,1,-500),M(n,A,1,500)]);return y||u}else k(n,c);return P([c]),p},R=async(n,a,e,s,m)=>{const i=n.canvas.height/2,o=[],r=s-1,d=79,c=15;o.push(new S({ctx:n,startPosition:new t(e+r*d,i-25),targetPosition:new t(e+c+r*d,i-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const l=60;o.push(new S({ctx:n,startPosition:new t(e+l+r*d,i-25),targetPosition:new t(e+l-c+r*d,i-50),keepDrawingAfterAnimation:!0}).animateDrawing(500,500));const w=a[s]-a[r],p=Math.abs(w)<=3&&w!==0&&Math.sign(w)===m;return o.push(new f({ctx:n,label:(w>0?"+":"")+w.toString(),color:p?"green":"red",position:new t(e+ +c+r*d+10,i-65),opacity:0,keepDrawingAfterAnimation:!0}).animateOpacity(1,500,750)),await g(n,o),P(o),p},k=(n,a)=>{const e=n.canvas.height/2;return a.animateRotation(-Math.PI*.1,50,250).animateRotation(-Math.PI*.3,100,300).animateRotation(-Math.PI*.4,200,400).animateRotation(-Math.PI*.42,500,600).animateRotation(Math.PI/3,200,1100).animateRotation(Math.PI*3,400,1300).animatePosition(new t(n.canvas.width+400,e),400,1300),g(n,[a])};export{z as part1,F as part2};
