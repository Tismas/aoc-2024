import{s as x}from"./showInConstructionMessage-0zp86OSb.js";import{i as a,V as r}from"./AnimatedLabel-CVP5itg0.js";import"./index-CNKGbUPc.js";const C=(n,e)=>{const o=e.split(`
`),c=o.length,s=o[0].length,l=[],t={position:new r(-1,-1),direction:"up"},i=new Set;for(let p=0;p<c;p++)for(let f=0;f<s;f++)o[p][f]==="#"&&l.push(new r(f,p)),o[p][f]==="^"&&(t.position.x=f,t.position.y=p);for(;a(t.position.x,0,s-1)&&a(t.position.y,0,c-1);)i.add(`${t.position.x},${t.position.y}`),y(t,l);x(n,i.size)},y=(n,e)=>{const o=g[n.direction],c=n.position.add(o);for(const s of e)if(c.equals(s))return n.direction=m[n.direction],y(n,e);n.position=c},g={up:new r(0,-1),right:new r(1,0),down:new r(0,1),left:new r(-1,0)},m={up:"right",right:"down",down:"left",left:"up"},z=(n,e)=>{const o=e.split(`
`),c=o.length,s=o[0].length,l=[],t={position:new r(-1,-1),direction:"up"},i=new Set;for(let d=0;d<c;d++)for(let w=0;w<s;w++)o[d][w]==="#"&&l.push(new r(w,d)),o[d][w]==="^"&&(t.position.x=w,t.position.y=d);const p=new r(t.position.x,t.position.y),f=new Set;for(;a(t.position.x,0,s-1)&&a(t.position.y,0,c-1);){const d=D(t,l,i);d&&f.add(d),i.add(t.position.toString()),b(t,l)}f.delete(p.toString()),x(n,f.size)},b=(n,e)=>{const o=h[n.direction],c=n.position.add(o);for(const s of e)if(c.equals(s)){n.direction=u[n.direction];return}n.position=c},h={up:new r(0,-1),right:new r(1,0),down:new r(0,1),left:new r(-1,0)},u={up:"right",right:"down",down:"left",left:"up"},$={up:"down",right:"left",down:"up",left:"right"},O=(n,e)=>n.filter(o=>o.y===e),S=(n,e)=>n.filter(o=>o.x===e),v=(n,e,o)=>{const c=O(n,e.y),s=S(n,e.x);let l=[];return o==="up"?l=s.filter(t=>t.y<e.y).sort((t,i)=>i.y-t.y):o==="down"?l=s.filter(t=>t.y>e.y).sort((t,i)=>t.y-i.y):o==="left"?l=c.filter(t=>t.x<e.x).sort((t,i)=>i.x-t.x):l=c.filter(t=>t.x>e.x).sort((t,i)=>t.x-i.x),l[0]||null},D=(n,e,o)=>{const c=h[n.direction],s=n.position.add(c);if(e.filter(p=>p.equals(s)).length>0||o.has(s.toString()))return null;const l=[];let t=s,i=n.direction;for(;t;)if(l.push(`${t},${i}`),t=v([...e,s],t.add(h[$[i]]),u[i]),i=u[i],t&&l.includes(`${t},${i}`))return s.toString();return null},B=`....#.....
.........#
..........
..#.......
.......#..
..........
.#..^.....
........#.
#.........
......#...`;export{B as input,C as part1,z as part2};
