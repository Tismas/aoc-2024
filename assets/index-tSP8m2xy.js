import{s as u}from"./showInConstructionMessage-C0RU-2lC.js";import"./AnimatedLabel-CjwdShHn.js";import"./index-D6-CqtiA.js";const v=(e,t)=>{const r=[];let l=!1,n=0;for(const f of t.split("")){const s=Number(f);l?r.push(...new Array(s).fill(".")):(r.push(...new Array(s).fill(n)),n++),l=!l}for(;r.includes(".");){const f=r.pop();f!=="."&&(r[r.indexOf(".")]=f)}const o=r.reduce((f,s,p)=>f+s*p,0);u(e,o)},I=(e,t)=>{const r=t.split("").map(Number);let l=null,n=null,o=0;for(let c=0;c<r.length;c+=2){const i={fileId:o,size:r[c],freeSpaceAfter:r[c+1]||0,next:null,prev:null};!l||!n?(l=i,n=i):(i.prev=n,n.next=i,n=i),o++}if(!n||!l)throw new Error("wtf?");a(l,n);let f=0,s=l,p=0;for(;s;){const c=s.fileId*p,i=s.fileId*(p+s.size-1);f+=s.size*((c+i)/2),p+=s.size+s.freeSpaceAfter,s=s.next}u(e,f)},a=(e,t)=>{for(;e.freeSpaceAfter===0;){if(!e.next)return;e=e.next}let r=e;for(;r!==t;){const l=t.prev;if(x(r,t))return a(e,l);t=t.prev}},x=(e,t)=>{for(;e!==t;){if(e.freeSpaceAfter>=t.size)return A(t),w(t,e),!0;e=e.next}return!1},A=e=>{e.prev&&(e.prev.freeSpaceAfter+=e.size+e.freeSpaceAfter,e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=null,e.prev=null},w=(e,t)=>{e.freeSpaceAfter=t.freeSpaceAfter-e.size,t.freeSpaceAfter=0,e.next=t.next,e.prev=t,t.next&&(t.next.prev=e),t.next=e},N="2333133121414131402";export{N as input,v as part1,I as part2};
